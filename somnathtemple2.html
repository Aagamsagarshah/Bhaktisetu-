<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Somnath Temple — Visitor Guide</title>
  <style>
    *{box-sizing:border-box;margin:0;padding:0}
    html,body{height:100%;font-family:Inter, system-ui, -apple-system, 'Segoe UI', Roboto, Arial;color:#222;background:linear-gradient(180deg,#fff,#f6f8fb)}
    a{color:inherit;text-decoration:none}
    img{max-width:100%;display:block}
    .container{max-width:1150px;margin:28px auto;padding:20px}
    header{display:flex;align-items:center;gap:18px}
    .logo{display:flex;flex-direction:column}
    .logo h1{font-size:28px;color:#0b3d91}
    .logo p{font-size:13px;color:#556}
    nav{margin-left:auto;display:flex;gap:10px;align-items:center}
    nav a{background:#0b62d6;color:#fff;padding:10px 14px;border-radius:8px}
    nav a:hover{background:#0848a8}
    .hero{position:relative;margin-top:18px;border-radius:14px;overflow:hidden;box-shadow:0 8px 30px rgba(12,40,80,0.06)}
    .hero .hero-image{height:360px;background-image:linear-gradient(to bottom,rgba(0,0,0,0.18),rgba(0,0,0,0.38)), url('https://upload.wikimedia.org/wikipedia/commons/b/b7/Somnath_temple_%28_Prabhas_Patan_%29.jpg');background-size:cover;background-position:center;display:flex;align-items:flex-end;padding:28px;color:#fff}
    .hero h2{margin:0;font-size:30px;letter-spacing:0.2px}
    .hero .meta{font-size:14px;opacity:0.95}
    .grid{display:grid;grid-template-columns:1fr 340px;gap:22px;margin-top:20px}
    .card{background:#fff;border-radius:12px;padding:18px;box-shadow:0 6px 20px rgba(11,30,70,0.04);margin-bottom:16px}
    .section-title{font-size:20px;color:#0b3d91;margin-bottom:10px}
    .lead{color:#334;line-height:1.6;margin-bottom:12px}
    .info-list{list-style:none;padding-left:0}
    .info-list li{padding:8px 0;border-bottom:1px dashed #eee;color:#444}
    .gallery{display:grid;grid-template-columns:repeat(3,1fr);gap:8px}
    .gallery img{width:100%;height:120px;object-fit:cover;border-radius:8px;transition:transform 0.3s}
    .gallery img:hover{transform:scale(1.05)}
    .map{height:220px;border-radius:10px;background:linear-gradient(180deg,#e8eef9,#fff);display:flex;align-items:center;justify-content:center;color:#244;padding:12px;cursor:pointer;transition:background 0.3s}
    .map:hover{background:#dde6f7}
    .accordion button{width:100%;text-align:left;padding:12px;background:#fff;border:none;border-bottom:1px solid #eee;font-weight:600;cursor:pointer}
    .accordion .panel{padding:12px;display:none;background:#fbfdff}
    .faq button{background:#f6f9ff}
    .btn{display:inline-block;padding:10px 14px;border-radius:8px;background:#0b62d6;color:#fff;border:none;cursor:pointer}
    .btn:hover{background:#094fb1}
    .comment-box{margin-top:16px}
    .comment-box textarea{width:100%;padding:10px;border-radius:8px;border:1px solid #ccc;min-height:80px}
    .comment-list .comment{padding:10px;border-radius:8px;background:#fbfdff;margin-top:10px}
    .comment strong{display:block;color:#0b3d91}
    footer{margin-top:26px;text-align:center;color:#667;font-size:13px;padding:20px 0}
    @media (max-width:980px){.grid{grid-template-columns:1fr}.gallery{grid-template-columns:repeat(2,1fr)}.hero .hero-image{height:260px}}
    @media (max-width:520px){header{flex-direction:column;align-items:flex-start}.gallery{grid-template-columns:1fr}}
     .hero {
      width: 100%;
      height: 400px;
      position: relative;
      border-radius: 14px;
      overflow: hidden;
    }

    .hero::before {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: url("somnath7.png") center/cover no-repeat; /* 👈 image */
      z-index: 1;
    }

    .hero::after {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.5); /* 👈 dark layer for text visibility */
      z-index: 2;
    }

    .hero-text {
      position: absolute;
      bottom: 20px;
      left: 20px;
      color: #fff;
      z-index: 3; /* 👈 text sabse upar */
    }

    .hero-text h2 {
      margin: 0;
      font-size: 28px;
    }

    .hero-text .meta {
      font-size: 16px;
      opacity: 0.9;
    }

     .card {
      margin: 16px auto;
      padding: 16px;
      max-width: 700px;
      border: 1px solid #ddd;
      border-radius: 10px;
      text-align: center;
    }
    video, canvas {
      width: 100%;
      max-height: 300px;
      border-radius: 10px;
      margin-bottom: 10px;
    }
    .btn {
      padding: 10px 15px;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      color: white;
      background: #007bff;
      margin: 5px;
    }

  </style>
  <!-- TensorFlow.js + COCO-SSD -->
  <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs"></script>
  <script src="https://cdn.jsdelivr.net/npm/@tensorflow-models/coco-ssd"></script>
  
</head>
<body>
  <div class="container">
    <header>
      <div class="logo">
        <h1>Somnath Temple</h1>
        <p>First Jyotirlinga of Lord Shiva</p>
      </div>
      <nav style="margin-left:auto;display:flex;gap:10px;align-items:center">
        <a href="#about">About</a>
        <a href="#history">History</a>
        <a href="#visit" class="btn" >Plan Visit</a>
        <a href="somnathbookticket.html" class="btn" style="background:#2b9d58">Book Slot</a>
      </nav>
    </header>

   <section class="hero card">
    <div class="hero-text">
      <h2>Somnath Temple — Eternal Shrine of Devotion</h2>
      <div class="meta">Prabhas Patan, Gujarat • Best time: October — March</div>
    </div>
  </section>

    <main class="grid">
      <article>
        <!-- About -->
        <div class="card" id="about">
          <h3 class="section-title">About Somnath</h3>
          <p class="lead">The Somnath temple, located in Prabhas Patan near Veraval, Gujarat, is one of the most sacred pilgrimage sites of Hinduism. Known as the first of the twelve Jyotirlinga shrines of Lord Shiva, Somnath has been destroyed and rebuilt multiple times in history, symbolizing resilience and faith.</p>
          <p class="lead">Its current form was reconstructed in 1951, initiated by Sardar Vallabhbhai Patel. The temple architecture follows the Chalukya style and overlooks the Arabian Sea, offering a majestic view at sunrise and sunset.</p>
        </div>

        <!-- History Accordion -->
        <div class="card accordion" id="history">
          <h3 class="section-title">Historical Timeline</h3>
          <button onclick="togglePanel(this)">Ancient Period</button>
          <div class="panel"><p>Somnath finds mention in ancient texts like the Skanda Purana, and was considered a powerful seat of Shiva worship.</p></div>
          <button onclick="togglePanel(this)">Medieval Period</button>
          <div class="panel"><p>The temple was plundered multiple times by invaders including Mahmud of Ghazni in 1024 CE.</p></div>
          <button onclick="togglePanel(this)">Modern Period</button>
          <div class="panel"><p>Post-independence, Sardar Vallabhbhai Patel initiated the reconstruction, completed in 1951 under K.M. Munshi.</p></div>
        </div>

        <!-- Gallery -->
        <div class="card">
          <h3 class="section-title">Photo Gallery</h3>
          <div class="gallery">
            <img src="somnath1.jpeg" alt="Somnath Temple Front">
            <img src="somnath2.png" alt="Inside Somnath Temple">
            <img src="somnath3.png" alt="Temple Sea View">
            <img src="somnath4.png" alt="Main Shikhara">
            <img src="somnath5.png" alt="Temple Panorama">
            <img src="somnath6.png" alt="Temple Flag">
          </div>
        </div>

        <!-- Attractions -->
        <div class="card">
          <h3 class="section-title">Nearby Attractions</h3>
          <ul class="info-list">
            <li><strong>Gir National Park:</strong> Famous for Asiatic lions, about 45 km away.</li>
            <li><strong>Junagadh:</strong> Historic city with forts and Buddhist caves.</li>
            <li><strong>Prabhas Patan Museum:</strong> Displays artifacts from Somnath’s rich history.</li>
            <li><strong>Triveni Sangam:</strong> Confluence of Hiran, Kapila, and Saraswati rivers.</li>
          </ul>
        </div>

        <!-- Visitor Tips -->
        <div class="card">
          <h3 class="section-title">Visitor Tips</h3>
          <ul class="info-list">
            <li>Best months: October – March for pleasant weather.</li>
            <li>Morning & Evening aarti are must-experience rituals.</li>
            <li>Dress modestly; traditional attire preferred.</li>
            <li>Photography inside sanctum is prohibited.</li>
          </ul>
        </div>

        <!-- FAQ -->
        <div class="card accordion faq" id="faq">
          <h3 class="section-title">Frequently Asked Questions</h3>
          <button onclick="togglePanel(this)">Is there an entry fee?</button>
          <div class="panel"><p>No, entry to Somnath temple is free for all devotees.</p></div>
          <button onclick="togglePanel(this)">What are temple timings?</button>
          <div class="panel"><p>The temple is open from 6 AM to 9 PM, with aarti at 7 AM, 12 PM, and 7 PM.</p></div>
          <button onclick="togglePanel(this)">Is online darshan available?</button>
          <div class="panel"><p>Yes, the Somnath Trust provides online live darshan services on their official website.</p></div>
        </div>

        <!-- Comments -->
        <div class="card comment-box">
          <h3 class="section-title">Visitor Comments</h3>
          <textarea id="commentText" placeholder="Share your experience..."></textarea>
          <button class="btn" style="margin-top:8px" onclick="addComment()">Post</button>
          <div class="comment-list" id="commentList"></div>
        </div>
      </article>

      <!-- Sidebar -->
      <aside>
        <div class="card" id="visit">
          <h4 class="section-title">Plan your visit</h4>
          <ul class="info-list">
            <li><strong>Nearest city:</strong> Veraval — 7 km</li>
            <li><strong>Transport:</strong> Trains, buses, taxis from major Gujarat cities</li>
            <li><strong>Parking:</strong> Spacious parking available</li>
            <li><strong>Restrooms:</strong> Modern facilities near premises</li>
          </ul>
        </div>

        <div class="card">
          <div class="section-title">Location & map</div>
          <div class="map" id="map">Click to open map</div>
          <p style="font-size:13px;color:#556;margin-top:10px">Coordinates: 20.8880, 70.4012</p>
        </div>

        <div class="card">
          <div class="section-title">Contact & Donations</div>
          <p style="color:#445">Somnath Trust Office: +91 2876 231212<br>Email: info@somnath.org</p>
          <button class="btn" onclick="openDonate()" style="margin-top:10px">Donate</button>
        </div>

 <!-- TensorFlow.js + COCO-SSD -->
  <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs"></script>
  <script src="https://cdn.jsdelivr.net/npm/@tensorflow-models/coco-ssd"></script>
</head>
<body>
  <!-- Camera / QR Scanner Section -->
  <div class="card" id="cameraCard">
    <h2>Live Temple Camera Access</h2>
    <p style="font-size:13px;color:#556;margin-bottom:6px">
      Use your device camera to count people inside temple:
    </p>
    <video id="camera" autoplay muted playsinline></video>
    <canvas id="overlay"></canvas>
    <div>
      <button class="btn" onclick="startCamera()">Start Camera</button>
      <button class="btn" style="background:#ff6347" onclick="stopCamera()">Stop Camera</button>
    </div>
    <h3 id="countDisplay">People Count: 0</h3>
  </div>
        
      </aside>
    </main>

    <footer>
      <p>© Shree Somnath Trust — Eternal Shrine of Lord Shiva</p>
    </footer>
  </div>

  <script>
    // Accordion toggle
    function togglePanel(btn){
      const panel = btn.nextElementSibling;
      panel.style.display = panel.style.display === 'block' ? 'none' : 'block';
    }

    // Map click
    document.getElementById('map').addEventListener('click', () => {
      window.open('https://www.google.com/maps/search/?api=1&query=20.8880,70.4012', '_blank');
    });

    // Donation prompt
    function openDonate(){
      const amount = prompt('Enter donation amount in ₹ (example: 500)');
      if (!amount) return alert('Donation cancelled.');
      const n = Number(amount.replace(/[^0-9.]/g,''));
      if (!n || n <= 0) return alert('Enter a valid amount.');
      alert('🙏 Thank you! You pledged ₹' + n + '. For official donations, please contact Shree Somnath Trust.');
    }

    // Comments system
    function addComment(){
      const text = document.getElementById('commentText').value.trim();
      if(!text) return alert("Please write something.");
      const div = document.createElement('div');
      div.className = 'comment';
      div.innerHTML = '<strong>Visitor</strong><p>'+text+'</p>';
      document.getElementById('commentList').appendChild(div);
      document.getElementById('commentText').value = '';
    }

    let video = document.getElementById("camera");
    let canvas = document.getElementById("overlay");
    let ctx = canvas.getContext("2d");
    let stream = null;
    let model = null;

    // Load COCO-SSD model
    cocoSsd.load().then(loadedModel => {
      model = loadedModel;
      console.log("Model loaded!");
    });

    async function startCamera() {
      stream = await navigator.mediaDevices.getUserMedia({ video: true });
      video.srcObject = stream;

      video.onloadedmetadata = () => {
        video.play();
        canvas.width = video.videoWidth;
        canvas.height = video.videoHeight;
        detectPeople();
      };
    }

    function stopCamera() {
      if (stream) {
        stream.getTracks().forEach(track => track.stop());
      }
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      document.getElementById("countDisplay").innerText = "People Count: 0";
    }

    async function detectPeople() {
      if (!model) return;

      const predictions = await model.detect(video);

      ctx.clearRect(0, 0, canvas.width, canvas.height);
      ctx.drawImage(video, 0, 0, canvas.width, canvas.height);

      let personCount = 0;

      predictions.forEach(prediction => {
        if (prediction.class === "person" && prediction.score > 0.6) {
          personCount++;
          let [x, y, width, height] = prediction.bbox;
          ctx.strokeStyle = "lime";
          ctx.lineWidth = 2;
          ctx.strokeRect(x, y, width, height);
          ctx.fillStyle = "lime";
          ctx.fillText("Person", x, y > 10 ? y - 5 : y + 15);
        }
      });

      document.getElementById("countDisplay").innerText = "People Count: " + personCount;

      requestAnimationFrame(detectPeople);
    }
  </script>
</body>
</html>
